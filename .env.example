# FFMPEG Media Processing API Configuration
# Copy this file to .env and customize for your environment

# =============================================================================
# API SECURITY
# =============================================================================

# Comma-separated list of valid API keys
# IMPORTANT: Change these in production!
API_KEYS=your-secure-api-key-1,your-secure-api-key-2

# =============================================================================
# RATE LIMITING
# =============================================================================

# Maximum requests per window for general endpoints
RATE_LIMIT_REQUESTS=100

# Rate limit window in seconds
RATE_LIMIT_WINDOW=60

# Maximum upload requests per window (stricter limit)
RATE_LIMIT_UPLOAD_REQUESTS=10

# =============================================================================
# FILE UPLOAD LIMITS
# =============================================================================

# Maximum upload file size in MB
MAX_UPLOAD_SIZE_MB=500

# Allowed video extensions (comma-separated)
ALLOWED_VIDEO_EXTENSIONS=.mp4,.avi,.mov,.mkv,.webm,.flv,.wmv

# Allowed image extensions (comma-separated)
ALLOWED_IMAGE_EXTENSIONS=.jpg,.jpeg,.png,.gif,.bmp,.webp,.tiff

# =============================================================================
# DIRECTORIES
# =============================================================================

# Temporary file directory
TEMP_DIR=/tmp/ffmpeg-api/temp

# Output file directory
OUTPUT_DIR=/tmp/ffmpeg-api/output

# How long to keep output files (seconds)
FILE_RETENTION_SECONDS=3600

# =============================================================================
# FFMPEG CONFIGURATION
# =============================================================================

# Operation timeout in seconds
FFMPEG_TIMEOUT=300

# Number of threads (0 = auto)
FFMPEG_THREADS=0

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed CORS origins (comma-separated, or * for all)
# In production, specify exact origins: https://yourdomain.com,https://app.yourdomain.com
CORS_ORIGINS=*

# =============================================================================
# DOCUMENTATION
# =============================================================================

# Enable Swagger/ReDoc documentation endpoints
# Set to false in production if you want to hide API docs
ENABLE_DOCS=true

# =============================================================================
# CLOUDFLARE R2 STORAGE
# =============================================================================

# R2 account and credentials
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET=

# Optional overrides
R2_REGION=auto
R2_ENDPOINT_URL=
R2_PUBLIC_BASE_URL=
R2_KEY_PREFIX=

# Allowed extensions for R2 uploads (comma-separated)
R2_ALLOWED_EXTENSIONS=.mp4,.avi,.mov,.mkv,.webm,.flv,.wmv,.jpg,.jpeg,.png,.gif,.bmp,.webp,.tiff,.zip
